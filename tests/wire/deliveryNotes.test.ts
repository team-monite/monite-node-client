/**
 * This file was auto-generated by Fern from our API Definition.
 */

import { mockServerPool } from "../mock-server/MockServerPool.js";
import { MoniteClient } from "../../src/Client";

describe("DeliveryNotes", () => {
    test("get_delivery_notes", async () => {
        const server = mockServerPool.createServer();
        const client = new MoniteClient({
            token: "test",
            moniteVersion: "test",
            moniteEntityId: "test",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    created_at: "2022-01-01T00:00:00Z",
                    updated_at: "2022-01-01T00:00:00Z",
                    based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    based_on_document_id: "IN-2022-01-01-0001",
                    counterpart: {
                        id: "id",
                        individual: {
                            email: "asingh@example.net",
                            first_name: "Adnan",
                            is_customer: true,
                            is_vendor: true,
                            last_name: "Singh",
                            phone: "5553211234",
                            tags: [
                                {
                                    id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                                    created_at: "2022-09-07T16:35:18Z",
                                    updated_at: "2022-09-07T16:35:18Z",
                                    created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                                    description: "Tag for the Marketing Department",
                                    name: "Marketing",
                                },
                            ],
                            title: "Mr.",
                        },
                        organization: {
                            email: "acme@example.com",
                            is_customer: true,
                            is_vendor: true,
                            legal_name: "Acme Inc.",
                            phone: "5551231234",
                            tags: [
                                {
                                    id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                                    created_at: "2022-09-07T16:35:18Z",
                                    updated_at: "2022-09-07T16:35:18Z",
                                    created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                                    description: "Tag for the Marketing Department",
                                    name: "Marketing",
                                },
                            ],
                        },
                    },
                    counterpart_address: {
                        city: "Counterpart City",
                        country: "DE",
                        line1: "Counterpart Street",
                        postal_code: "123009",
                    },
                    counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    delivery_date: "2022-01-01",
                    delivery_number: "102-2022-0987",
                    display_signature_placeholder: true,
                    document_id: "DN-2022-01-01-0001",
                    entity: { name: "name", type: "organization" },
                    entity_address: {
                        city: "Entity City",
                        country: "DE",
                        line1: "Entity Street",
                        postal_code: "123009",
                    },
                    entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    file_language: "en",
                    file_url: "https://example.com/delivery_note.pdf",
                    line_items: [
                        {
                            product: {
                                description: "Description of product",
                                measure_unit: { description: "Pieces", name: "pcs" },
                                name: "Product Name",
                            },
                            quantity: 20,
                        },
                    ],
                    memo: "This is a memo",
                    original_file_language: "de",
                    original_file_url: "https://example.com/delivery_note_original.pdf",
                    status: "created",
                },
            ],
            next_pagination_token: "next_pagination_token",
            prev_pagination_token: "prev_pagination_token",
        };
        server.mockEndpoint().get("/delivery_notes").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.deliveryNotes.getDeliveryNotes();
        expect(response).toEqual({
            data: [
                {
                    id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    created_at: "2022-01-01T00:00:00Z",
                    updated_at: "2022-01-01T00:00:00Z",
                    based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    based_on_document_id: "IN-2022-01-01-0001",
                    counterpart: {
                        id: "id",
                        individual: {
                            email: "asingh@example.net",
                            first_name: "Adnan",
                            is_customer: true,
                            is_vendor: true,
                            last_name: "Singh",
                            phone: "5553211234",
                            tags: [
                                {
                                    id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                                    created_at: "2022-09-07T16:35:18Z",
                                    updated_at: "2022-09-07T16:35:18Z",
                                    created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                                    description: "Tag for the Marketing Department",
                                    name: "Marketing",
                                },
                            ],
                            title: "Mr.",
                        },
                        organization: {
                            email: "acme@example.com",
                            is_customer: true,
                            is_vendor: true,
                            legal_name: "Acme Inc.",
                            phone: "5551231234",
                            tags: [
                                {
                                    id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                                    created_at: "2022-09-07T16:35:18Z",
                                    updated_at: "2022-09-07T16:35:18Z",
                                    created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                                    description: "Tag for the Marketing Department",
                                    name: "Marketing",
                                },
                            ],
                        },
                    },
                    counterpart_address: {
                        city: "Counterpart City",
                        country: "DE",
                        line1: "Counterpart Street",
                        postal_code: "123009",
                    },
                    counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    delivery_date: "2022-01-01",
                    delivery_number: "102-2022-0987",
                    display_signature_placeholder: true,
                    document_id: "DN-2022-01-01-0001",
                    entity: {
                        type: "organization",
                        name: "name",
                    },
                    entity_address: {
                        city: "Entity City",
                        country: "DE",
                        line1: "Entity Street",
                        postal_code: "123009",
                    },
                    entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    file_language: "en",
                    file_url: "https://example.com/delivery_note.pdf",
                    line_items: [
                        {
                            product: {
                                description: "Description of product",
                                measure_unit: {
                                    description: "Pieces",
                                    name: "pcs",
                                },
                                name: "Product Name",
                            },
                            quantity: 20,
                        },
                    ],
                    memo: "This is a memo",
                    original_file_language: "de",
                    original_file_url: "https://example.com/delivery_note_original.pdf",
                    status: "created",
                },
            ],
            next_pagination_token: "next_pagination_token",
            prev_pagination_token: "prev_pagination_token",
        });
    });

    test("post_delivery_notes", async () => {
        const server = mockServerPool.createServer();
        const client = new MoniteClient({
            token: "test",
            moniteVersion: "test",
            moniteEntityId: "test",
            environment: server.baseUrl,
        });
        const rawRequestBody = {
            counterpart_address_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2025-01-01",
            delivery_number: "102-2025-0987",
            display_signature_placeholder: true,
            line_items: [
                { product_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6", quantity: 10 },
                {
                    product: {
                        description: "Description of product 2",
                        measure_unit: { description: "pieces", name: "pcs" },
                        name: "Product 2",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
        };
        const rawResponseBody = {
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
                type: "organization",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: { description: "Pieces", name: "pcs" },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        };
        server
            .mockEndpoint()
            .post("/delivery_notes")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.deliveryNotes.postDeliveryNotes({
            counterpart_address_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2025-01-01",
            delivery_number: "102-2025-0987",
            display_signature_placeholder: true,
            line_items: [
                {
                    product_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
                    quantity: 10,
                },
                {
                    product: {
                        description: "Description of product 2",
                        measure_unit: {
                            description: "pieces",
                            name: "pcs",
                        },
                        name: "Product 2",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
        });
        expect(response).toEqual({
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                type: "organization",
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: {
                            description: "Pieces",
                            name: "pcs",
                        },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        });
    });

    test("get_delivery_notes_id", async () => {
        const server = mockServerPool.createServer();
        const client = new MoniteClient({
            token: "test",
            moniteVersion: "test",
            moniteEntityId: "test",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
                type: "organization",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: { description: "Pieces", name: "pcs" },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        };
        server
            .mockEndpoint()
            .get("/delivery_notes/delivery_note_id")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.deliveryNotes.getDeliveryNotesId("delivery_note_id");
        expect(response).toEqual({
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                type: "organization",
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: {
                            description: "Pieces",
                            name: "pcs",
                        },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        });
    });

    test("delete_delivery_notes_id", async () => {
        const server = mockServerPool.createServer();
        const client = new MoniteClient({
            token: "test",
            moniteVersion: "test",
            moniteEntityId: "test",
            environment: server.baseUrl,
        });

        server.mockEndpoint().delete("/delivery_notes/delivery_note_id").respondWith().statusCode(200).build();

        const response = await client.deliveryNotes.deleteDeliveryNotesId("delivery_note_id");
        expect(response).toEqual(undefined);
    });

    test("patch_delivery_notes_id", async () => {
        const server = mockServerPool.createServer();
        const client = new MoniteClient({
            token: "test",
            moniteVersion: "test",
            moniteEntityId: "test",
            environment: server.baseUrl,
        });
        const rawRequestBody = {};
        const rawResponseBody = {
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
                type: "organization",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: { description: "Pieces", name: "pcs" },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        };
        server
            .mockEndpoint()
            .patch("/delivery_notes/delivery_note_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.deliveryNotes.patchDeliveryNotesId("delivery_note_id");
        expect(response).toEqual({
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                type: "organization",
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: {
                            description: "Pieces",
                            name: "pcs",
                        },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        });
    });

    test("post_delivery_notes_id_cancel", async () => {
        const server = mockServerPool.createServer();
        const client = new MoniteClient({
            token: "test",
            moniteVersion: "test",
            moniteEntityId: "test",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
                type: "organization",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: { description: "Pieces", name: "pcs" },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        };
        server
            .mockEndpoint()
            .post("/delivery_notes/delivery_note_id/cancel")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.deliveryNotes.postDeliveryNotesIdCancel("delivery_note_id");
        expect(response).toEqual({
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                type: "organization",
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: {
                            description: "Pieces",
                            name: "pcs",
                        },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        });
    });

    test("post_delivery_notes_id_mark_as_delivered", async () => {
        const server = mockServerPool.createServer();
        const client = new MoniteClient({
            token: "test",
            moniteVersion: "test",
            moniteEntityId: "test",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
                type: "organization",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: { description: "Pieces", name: "pcs" },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        };
        server
            .mockEndpoint()
            .post("/delivery_notes/delivery_note_id/mark_as_delivered")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.deliveryNotes.postDeliveryNotesIdMarkAsDelivered("delivery_note_id");
        expect(response).toEqual({
            id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_at: "2022-01-01T00:00:00Z",
            updated_at: "2022-01-01T00:00:00Z",
            based_on: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            based_on_document_id: "IN-2022-01-01-0001",
            counterpart: {
                id: "id",
                individual: {
                    email: "asingh@example.net",
                    first_name: "Adnan",
                    is_customer: true,
                    is_vendor: true,
                    last_name: "Singh",
                    phone: "5553211234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                    title: "Mr.",
                },
                language: "ab",
                organization: {
                    email: "acme@example.com",
                    is_customer: true,
                    is_vendor: true,
                    legal_name: "Acme Inc.",
                    phone: "5551231234",
                    tags: [
                        {
                            id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            created_at: "2022-09-07T16:35:18Z",
                            updated_at: "2022-09-07T16:35:18Z",
                            created_by_entity_user_id: "ea837e28-509b-4b6a-a600-d54b6aa0b1f5",
                            description: "Tag for the Marketing Department",
                            name: "Marketing",
                        },
                    ],
                },
            },
            counterpart_address: {
                city: "Counterpart City",
                country: "DE",
                line1: "Counterpart Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            counterpart_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            created_by_entity_user_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            delivery_date: "2022-01-01",
            delivery_number: "102-2022-0987",
            display_signature_placeholder: true,
            document_id: "DN-2022-01-01-0001",
            entity: {
                type: "organization",
                email: "email",
                logo: "logo",
                name: "name",
                phone: "phone",
                registration_authority: "registration_authority",
                registration_number: "registration_number",
                tax_id: "tax_id",
                vat_id: "vat_id",
                website: "website",
            },
            entity_address: {
                city: "Entity City",
                country: "DE",
                line1: "Entity Street",
                line2: "line2",
                postal_code: "123009",
                state: "state",
            },
            entity_id: "a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6",
            file_language: "en",
            file_url: "https://example.com/delivery_note.pdf",
            line_items: [
                {
                    product: {
                        description: "Description of product",
                        measure_unit: {
                            description: "Pieces",
                            name: "pcs",
                        },
                        name: "Product Name",
                    },
                    quantity: 20,
                },
            ],
            memo: "This is a memo",
            original_file_language: "de",
            original_file_url: "https://example.com/delivery_note_original.pdf",
            status: "created",
        });
    });
});
